<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang=en>
<head>
  <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">
  <title>Natural CLI</title>
  <link rel="stylesheet" type="text/css" href="style.css" />
</head>

<body>

<h1>Natural CLI - Examples</h1>


<p>
If you are looking for the main page, please go <a href="index.html">here</a>.
<br><br>To understand better the code, please check the <a href="doc">Javadoc</a>.
<br><br>Any <a href="http://sourceforge.net/forum/?group_id=208949">comments</a>, <a href="http://sourceforge.net/tracker/?group_id=208949&atid=1007750">bugs</a>, <a href="http://sourceforge.net/tracker/?group_id=208949&atid=1007753">feature requests</a> are welcome ;-)



<br><br>If you are looking for the binaries go <a href="http://sourceforge.net/project/showfiles.php?group_id=208949">here</a>.<p>
<b>Example 1.</b> The first two commands.<br>
<i>
This example creates two simple commands with a very easy syntax.
</i>
<pre>

  <i>// Create the commands
  </i>Command showDateCommand =
    new Command(
    &quot;show date&quot;, 
    &quot;Shows the current date and time&quot;, 
    new ICommandExecutor ()
    {
       public void execute(ParseResult pr) 
       {  System.out.println(new java.util.Date().toString());  }
    }		
  );
  Command helloWorldCommand =
    new Command(
    &quot;hello world&quot;, 
    &quot;Says hello.&quot;, 
    new ICommandExecutor ()
    {
      public void execute(ParseResult pr ) 
      {  System.out.println(&quot;Hello world!&quot;);  }
    }		
  );
   
  <i>// Create the set of commands
  </i>Set&lt;Command&gt; cs = new HashSet&lt;Command&gt;();
  cs.add(showDateCommand);
  cs.add(helloWorldCommand);
   
  <i>// Execute
  </i>new NaturalCLI(cs).execute(args);
       
</pre>

<p>
<b>Example 2</b>. A command with a parameter.<br>
<i>
The parameters are typed and you can define your own type also. 
A parameter can have a type name or a type name with a parameter name to be
shown when showing the help.
</i>
<pre>

  <i>// Create the command
  </i>Command helloWorldCommand =
    new Command(
      &quot;hello world &lt;name:string&gt;&quot;, 
      &quot;Says hello to the world and especially to some one.&quot;, 
      new ICommandExecutor ()
      {
        public void execute(ParseResult pr) 
        {
          System.out.println(&quot;Hello world! And hello especially to &quot;+pr.getParameterValue(0));  }
        }		
      );
      
  <i>// Create the set of commands
  </i>Set&lt;CommandGt; cs = new HashSet&lt;Command&gt;();
  cs.add(helloWorldCommand);
   
  <i>// Execute
  </i>new NaturalCLI(cs).execute(args);
       
</pre>

<p>
<b>Example 3</b>. A command with optional parameter.<br>
<i>
Defining optional parameters the command lines are more powerful.
</i>
<pre>

  Command showDateCommand =
  new Command(
    "hello world [&lt;name:string&gt;]", 
    "Says hello to the world and, may be, especially to some one.", 
    new ICommandExecutor ()
    {
      public void execute(ParseResult pr) 
      {  
        System.out.print("Hello world!");
        String p0 = pr.getParameterValue(0).toString();
        if (p0 == null)
      	  System.out.println();
        else
          System.out.println(" And hello especially to "+p0);  
      }
    }		
  );

</pre>

<p>
<b>Example 4</b>. An user defined type.<br>
<i>
It's possible to define your own types to extend the parameter type and value checking.
</i>
<pre>

  <i>// Create the type
  </i>IParameterType type = 
    new IParameterType()
    {
      private final String[] dof = new String[] {&quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;, &quot;Saturday&quot;, &quot;Sunday&quot;};
      public Object convertParameterValue(String strRepresentation) {
        return strRepresentation;
      }
      public String getParameterTypeName() {
        return &quot;dayofweek&quot;;
      }
      public boolean validateParameter(String value) {						
        return Arrays.binarySearch(dof, value) != -1;
      }
      public String validationMessage(String value) {
        return this.validateParameter(value) ? null : &quot;Bad day of the week name.&quot;;
      }				
    };
    
  <i>// Create the command
  </i>Command helloWorldCommand =
    new Command(
      &quot;hello world on &lt;day:dayofweek&gt;&quot;, 
      &quot;Says hello to the world for that day.&quot;, 
      new ICommandExecutor ()
      {
        public void execute(ParseResult pr) 
        {  
          System.out.println(&quot;Hello world on &quot;+pr.getParameterValue(0));
        }
      }		
   );
   
   <i>// Create the parameter validator
   </i>Set&lt;IParameterType&gt; pts = new HashSet&lt;IParameterType&gt;();
   pts.add(type);
   ParameterValidator pv = new ParameterValidator(pts); 
   
   <i>// Create the set of commands
   </i>Set&lt;Command&gt; cs = new HashSet&lt;Command&gt;();
   cs.add(helloWorldCommand);
   
   <i>// Execute
   </i>new NaturalCLI(cs, pv).execute(args);

</pre>

<p>
<b>Example 5</b>. The default commands.<br>
<i>
There are default commands that you can use. Help commands o be able
to output the command possibilities, execute a file with a list of
commands, ...  

</i>
<pre>

   <i>// Create an empty command set
   </i>Set&lt;Command&gt; cs = new HashSet&lt;Command&gt;();
  
   <i>// Create the interpreter
   </i>NaturalCLI nc = new NaturalCLI(cs);
  
   <i>// Add the commands that can be understood
   </i>cs.add(new HelpCommand(cs)); <i>// help
   </i>cs.add(new HTMLHelpCommand(cs)); <i>// htmlhelp
   </i>cs.add(new SleepCommand());  <i>// sleep &lt;seconds:number&gt; 
   </i>cs.add(new ExecuteFileCommand(nc)); <i>// execute file &lt;filename:string&gt;
  
   // Execute the command line</i> 
   nc.execute(args, 0);
    
</pre>

<p>
<b>Example of...</b>. If you want any  other example, please request it <a href="http://sourceforge.net/forum/?group_id=208949">here</a>!


<!-- Bottom -->

<hr>

<div align="center">

<p>
<small>(C) Copyright 2007. Ferran Busquets.</small>
<br>
<a href="http://sourceforge.net"><img border=0 src="http://sflogo.sourceforge.net/sflogo.php?group_id=208949&amp;type=2" alt="SourceForge.net Logo"  height="37" width="125" ></a>
<br>

</div>

<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-3026892-1";
urchinTracker();
</script>

</body>
</html>
